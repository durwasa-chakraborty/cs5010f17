<!DOCTYPE html>
<html lang="en">

<head>

<meta charset="UTF-8">
<meta name="description" content="Northeastern University CS 5010">
<meta name="author" content="William D Clinger">
<!-- meta name="keywords" content="software" -->

<title>
  What Do You Gain By Writing Ugly Code?
</title>

<link type="text/css"
      rel="stylesheet"
      href="cs5010.css" />

</head>

<body>

<!-- start of specific content -->

<div id="maincontent">
  <h3>
    What Do You Gain By Writing Ugly Code?
  </h3>
  <div>
    <p>
      My benchmark used the following <code>while</code> loop
      to call <code>ip</code> a million times before it prints
      the result obtained by calling <code>ip</code> one last
      time:
    </p>
    <pre>
      while (m &gt; 0) {
          m = m - 1;
          result = ip (a, b);
      }
      System.out.println (ip (a, b));
    </pre>
    <p>
      Neither <code>m</code> nor <code>result</code>
      is used within the code that follows the <code>while</code>.
      Furthermore, the <code>ip</code> method's only possible side
      effect is to throw an exception when it is passed <code>null</code>
      instead of an array or when the two arrays are of different
      sizes.
      In my benchmark, the arguments passed to <code>ip</code> are
      arrays of the same size.
      The optimizing Java compiler notices all of that and realizes
      the <code>while</code> loop does nothing useful.  The compiler
      also realizes the <code>while</code> loop must terminate,
      because <code>m</code> starts out positive and is decremented
      on every loop.
    </p>
    <p>
      The Java compiler can therefore generate no code at all for the
      <code>while</code> loop.
      That reduces the running time of the benchmark from
      &Theta;(m n) to &Theta;(n), making it too fast to time
      accurately.
    </p>
    <p>
      The Gnu C compiler did the same thing when all optimizations
      were turned on, but the Gnu C compiler didn't eliminate the
      while loop when compiling without optimization.
    </p>
  </div>
</div>
<div id="footer">
  <form action="opt4.html" class="inline">
    <input type="submit" value="PREV">
  </form>
  <br />
  <form action="opt6.html" class="inline">
    <input type="submit" value="NEXT">
  </form>
</div>

<!-- end of specific content -->

<p class="muchsmaller">
For debugging: 
<a href="http://validator.w3.org/check/referer">
Click here to validate.
</a>
</p>

</body>
</html>
